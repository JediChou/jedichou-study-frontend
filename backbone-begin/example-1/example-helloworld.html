<!doctype html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Backbone.js Example 1 - hello world</title>
	</head>
	<body>
		<button id="check">coming</button>
		<ul id="world-list"></ul>
	</body>
	<script type="text/javascript" src="../lib/jquery-min.js"></script>		<!-- jQuery JavaScript Library v1.11.1 -->
	<script type="text/javascript" src="../lib/underscore-min.js"></script>	<!-- Underscore.js 1.8.2 -->
	<script type="text/javascript" src="../lib/backbone-min.js"></script>		<!-- unknow -->
	<script type="text/javascript">
		(function($){
			
			World = Backbone.Model.extend({
				// create a World object, with a name property
				name: null
			});
			
			Worlds = Backbone.Collection.extend({
				// collection of World
				initialize: function(models, options) {
					this.bind('add', options.view.addOneWorld);
				}
			});
			
			AppView = Backbone.View.extend({
				
				el : $("body"),
				initialize : function() {
					// constructor, create a worlds instance, and
					// pass it to AppView by dictionary.
					this.worlds = new Worlds(null, {view:this})
				},
				events: {
					'click #check' : 'checkIn',
				},
				checkIn : function() {
					var world_name = prompt("Where you from? ");
					if( world_name == "") world_name = "unknow";
					var world = new World({name:world_name});
					this.worlds.add(world);
				},
				addOneWorld : function(model) {
					$("#world-list").append("<li>This message from" + model.get('name') + ", and the message is: hello world!" + "</li>");
				},
				
			});
			
			// Instance AppView
			var appview = new AppView;
			
		})(jQuery);
	</script>
</html>